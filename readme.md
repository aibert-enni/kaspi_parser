# Kaspi Parser - Python Backend Test Task

–ü—Ä–æ–µ–∫—Ç –¥–ª—è —Å–±–æ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö —Å Kaspi.kz.  

## üì¶ –§–∞–π–ª—ã

- `seed.json` - URL –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- `export/product.json` - —ç–∫—Å–ø–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞
- `export/offers.jsonl` - —ç–∫—Å–ø–æ—Ä—Ç –æ—Ñ—Ñ–µ—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (–ø–æ –∂–µ–ª–∞–Ω–∏—é, –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)


## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10
- PostgreSQL + SQLAlchemy (async)
- Pydantic –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- Docker –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- JSON –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã
<img width="1920" height="1080" alt="Screenshot 2025-10-04 194039" src="https://github.com/user-attachments/assets/fd9b0a1f-4831-4aa4-89d7-c6dbb4af565e" />
<img width="1920" height="1080" alt="Screenshot 2025-10-04 193933" src="https://github.com/user-attachments/assets/87bb3cce-1e6d-457a-a0e4-4f0db5ca5843" />
<img width="1920" height="1080" alt="Screenshot 2025-10-04 194005" src="https://github.com/user-attachments/assets/b5f41a45-9d1d-4e31-8d3d-d1fe25d41016" />


## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Docker

1. –°–æ–±—Ä–∞—Ç—å –∏ –ø–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker-compose up --build
```

2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL.
–î–∞–Ω–Ω—ã–µ –∏–∑ seed.json –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –∏ JSON.

### –ß–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python

–°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
```

–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

- Windows:

```bash
venv\Scripts\activate
```

- Linux/macOS:

```bash
source venv/bin/activate
```


–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python -m app.main

```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ seed.json –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ PostgreSQL –∏ JSON.

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–µ:

    - –ù–∞–∑–≤–∞–Ω–∏–µ

    - –ö–∞—Ç–µ–≥–æ—Ä–∏—è

    - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞

    - –†–µ–π—Ç–∏–Ω–≥

    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤

    - –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–∞ (key‚Äìvalue)

    - –°—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

    - –û—Ñ—Ñ–µ—Ä—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤

    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤

- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:

    - –í PostgreSQL (—Ç–∞–±–ª–∏—Ü–∞ products)

    - –í export/product.json –∏ export/offers.json

    - –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω –∏ –æ—Ñ—Ñ–µ—Ä–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ –∏ –≤ json.

    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
- ‚è± –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
    - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç, –æ–±–Ω–æ–≤–ª—è—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è –ø–æ–ª—è.

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ JSON –∏ PostgreSQL (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–∏–ø—ã JSONB –¥–ª—è –ø–æ–ª–µ–π details, offers, image_links).
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
- –¢–∏–ø–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Pydantic.
